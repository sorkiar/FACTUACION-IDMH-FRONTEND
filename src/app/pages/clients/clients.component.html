<div>
  <app-page-breadcrumb pageTitle="Mantenimiento de Clientes" />
  <div
    class="rounded-2xl border border-gray-200 bg-white px-3 py-5 dark:border-gray-800 dark:bg-white/[0.03] xl:px-4 xl:py-5 mb-3 flex justify-between">
    <div></div>
    <div>
      <button type="button"
        class="bg-indigo-300 hover:bg-indigo-400 inline-flex items-center mr-1 px-3 py-1 text-sm font-medium rounded-sm"
        (click)="onCreateClient()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12.0002 4.875C12.6216 4.875 13.1252 5.37868 13.1252 6V10.8752H18.0007C18.622 10.8752 19.1257 11.3789 19.1257 12.0002C19.1257 12.6216 18.622 13.1252 18.0007 13.1252H13.1252V18.0007C13.1252 18.622 12.6216 19.1257 12.0002 19.1257C11.3789 19.1257 10.8752 18.622 10.8752 18.0007V13.1252H6C5.37868 13.1252 4.875 12.6216 4.875 12.0002C4.875 11.3789 5.37868 10.8752 6 10.8752H10.8752V6C10.8752 5.37868 11.3789 4.875 12.0002 4.875Z"
            fill="#323544" />
        </svg>
        <p class="text-sm font-semibold text-gray-800 ml-2">Agregar</p>
      </button>
      <button type="button" [disabled]="loadingTable"
        class="bg-indigo-300 hover:bg-indigo-400 inline-flex items-center mr-1 px-3 py-1 text-sm font-medium rounded-sm"
        (click)="loadClients()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M13.7507 3.74805C13.7507 2.78155 12.9672 1.99805 12.0007 1.99805C11.0342 1.99805 10.2507 2.78155 10.2507 3.74805C10.2507 4.71455 11.0342 5.49815 12.0007 5.49815C12.9672 5.49815 13.7507 4.71455 13.7507 3.74805Z"
            fill="#323544" />
          <path
            d="M18.366 6.69439C18.6589 6.4015 18.6589 5.92663 18.366 5.63373C18.0731 5.34084 17.5983 5.34084 17.3054 5.63373C17.0125 5.92663 17.0124 6.40157 17.3053 6.69446C17.5982 6.98736 18.0731 6.98729 18.366 6.69439Z"
            fill="#323544" />
          <path
            d="M21.1477 12C21.1477 12.4943 20.747 12.895 20.2527 12.895C19.7584 12.895 19.3576 12.4943 19.3576 12C19.3576 11.5057 19.7583 11.105 20.2526 11.105C20.7469 11.105 21.1477 11.5057 21.1477 12Z"
            fill="#323544" />
          <path
            d="M17.1003 18.5713C17.5064 18.9775 18.1649 18.9775 18.5711 18.5713C18.9772 18.1652 18.9772 17.5067 18.5711 17.1005C18.1649 16.6944 17.5064 16.6943 17.1002 17.1005C16.6941 17.5066 16.6942 18.1652 17.1003 18.5713Z"
            fill="#323544" />
          <path
            d="M12.0007 19.067C12.6552 19.067 13.1857 19.5975 13.1857 20.252C13.1857 20.9064 12.6552 21.4371 12.0007 21.4371C11.3463 21.4371 10.8157 20.9065 10.8157 20.2521C10.8157 19.5976 11.3463 19.067 12.0007 19.067Z"
            fill="#323544" />
          <path
            d="M7.10623 18.7764C7.62562 18.257 7.62562 17.4149 7.10623 16.8955C6.58683 16.3761 5.74472 16.3761 5.22532 16.8955C4.70592 17.4149 4.70585 18.2571 5.22525 18.7765C5.74465 19.2959 6.58683 19.2958 7.10623 18.7764Z"
            fill="#323544" />
          <path
            d="M5.22354 12C5.22354 12.8146 4.56316 13.475 3.74854 13.475C2.93392 13.475 2.27344 12.8146 2.27344 12C2.27344 11.1854 2.93382 10.525 3.74844 10.525C4.56306 10.525 5.22354 11.1854 5.22354 12Z"
            fill="#323544" />
          <path
            d="M5.02026 7.30958C5.65291 7.94222 6.67864 7.94222 7.31129 7.30958C7.94394 6.67693 7.94394 5.6512 7.31129 5.01855C6.67864 4.3859 5.65284 4.38583 5.02019 5.01848C4.38754 5.65113 4.38761 6.67693 5.02026 7.30958Z"
            fill="#323544" />
        </svg>
        <p class="text-sm font-semibold text-gray-800 ml-2"> {{ loadingTable ? 'Actualizando...' : 'Actualizar' }} </p>
      </button>
    </div>
  </div>
  <div
    class="min-h-screen rounded-2xl border border-gray-200 bg-white px-3 py-5 dark:border-gray-800 dark:bg-white/[0.03] xl:px-4 xl:py-5">
    <div class="w-full">
      <div class="rounded-2xl border border-gray-200 bg-white pt-4 dark:border-white/[0.05] dark:bg-white/[0.03]">
        <div class="flex flex-col gap-2 px-5 mb-4 sm:flex-row sm:items-center sm:justify-between sm:px-6">
          <div>
            <h3 class="text-lg font-semibold text-gray-800 dark:text-white/90">
              Listado de clientes
            </h3>
          </div>
          <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
            <form>
              <div class="relative">
                <button class="absolute -translate-y-1/2 left-4 top-1/2" type="button">
                  <svg class="fill-gray-500 dark:fill-gray-400" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M3.04199 9.37381C3.04199 5.87712 5.87735 3.04218 9.37533 3.04218C12.8733 3.04218 15.7087 5.87712 15.7087 9.37381C15.7087 12.8705 12.8733 15.7055 9.37533 15.7055C5.87735 15.7055 3.04199 12.8705 3.04199 9.37381ZM9.37533 1.54218C5.04926 1.54218 1.54199 5.04835 1.54199 9.37381C1.54199 13.6993 5.04926 17.2055 9.37533 17.2055C11.2676 17.2055 13.0032 16.5346 14.3572 15.4178L17.1773 18.2381C17.4702 18.531 17.945 18.5311 18.2379 18.2382C18.5308 17.9453 18.5309 17.4704 18.238 17.1775L15.4182 14.3575C16.5367 13.0035 17.2087 11.2671 17.2087 9.37381C17.2087 5.04835 13.7014 1.54218 9.37533 1.54218Z"
                      fill=""></path>
                  </svg>
                </button>
                <input type="text" placeholder="Buscar..." (input)="setSearchTerm($any($event.target).value)"
                  class="dark:bg-dark-900 h-[42px] w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-[42px] pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]" />
              </div>
            </form>
          </div>
        </div>

        <div class="overflow-hidden">
          <div class="max-w-full px-5 overflow-x-auto sm:px-6">
            <table class="min-w-full">
              <thead class="border-gray-100 border-y dark:border-white/[0.05]">
                <tr>
                  <th class="py-3 font-normal text-gray-500 text-start text-theme-sm dark:text-gray-400">
                    Nombres / Razón Social
                  </th>
                  <th class="py-3 font-normal text-gray-500 text-start text-theme-sm dark:text-gray-400">
                    Documento
                  </th>
                  <th class="py-3 font-normal text-gray-500 text-start text-theme-sm dark:text-gray-400">
                    Teléfono
                  </th>
                  <th class="py-3 font-normal text-gray-500 text-start text-theme-sm dark:text-gray-400">
                    Correo
                  </th>
                  <th class="ppy-3 font-normal text-gray-500 text-start text-theme-sm dark:text-gray-400">
                    Estado
                  </th>
                  <th class="py-3 font-normal text-gray-500 text-start text-theme-sm dark:text-gray-400">
                    Acciones
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-100 dark:divide-white/[0.05]">
                @if (loading) {
                <tr>
                  <td class="py-4 text-center text-gray-700 text-theme-sm dark:text-gray-400" colspan="6">
                    Cargando...
                  </td>
                </tr>
                } @else {
                @if (currentItems.length === 0) {
                <tr>
                  <td class="py-4 text-center text-gray-700 text-theme-sm dark:text-gray-400" colspan="6">
                    No hay datos disponibles.
                  </td>
                </tr>
                } @else {
                @for (item of currentItems; track $index) {
                <tr>
                  <td class="py-2">
                    <div class="flex items-center gap-3">
                      <span class="block font-medium text-gray-700 text-theme-sm dark:text-gray-400">
                        {{ item.firstName ? item.firstName + ' ' + item.lastName : item.businessName }}
                      </span>
                    </div>
                  </td>
                  <td class="py-2 text-gray-700 whitespace-nowrap text-theme-sm dark:text-gray-400">
                    {{ item.documentType + ' ' + item.documentNumber }}
                  </td>
                  <td class="py-2 text-gray-700 text-theme-sm dark:text-gray-400">
                    {{ item.phone1 }}
                  </td>
                  <td class="py-2 text-gray-700 text-theme-sm dark:text-gray-400">
                    {{ item.email1 }}
                  </td>
                  <td class="py-2 text-gray-700 text-theme-sm dark:text-gray-400">
                    <app-badge size="sm" [color]="getBadgeColor(item.status)">
                      {{ getBadgeText(item.status) }}
                    </app-badge>
                  </td>
                  <td class="py-2 text-gray-700 text-theme-sm dark:text-gray-400">
                    <div>
                      <div class="shadow-theme-xs inline-flex items-center gap-1.5">
                        <button type="button"
                          class="bg-orange-300 hover:bg-orange-400 inline-flex items-center gap-2 px-2.5 py-2 text-sm font-medium text-white rounded-md"
                          (click)="onEditClient(item)">
                          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M20.8749 2.51272C20.1915 1.8293 19.0835 1.8293 18.4001 2.51272L13.2418 7.67095C12.879 8.03379 12.6511 8.50974 12.5959 9.0199L12.4069 10.7668C12.3824 10.9926 12.4616 11.2173 12.6222 11.3778C12.7827 11.5384 13.0074 11.6176 13.2332 11.5931L14.9801 11.4041C15.4903 11.3489 15.9662 11.121 16.3291 10.7582L21.4873 5.59994C22.1707 4.91652 22.1707 3.80848 21.4873 3.12506L20.8749 2.51272ZM18.5981 4.43601L19.564 5.40191L15.2684 9.69751C15.1474 9.81846 14.9888 9.89443 14.8187 9.91283L13.9984 10.0016L14.0872 9.18126C14.1056 9.01121 14.1815 8.85256 14.3025 8.73161L18.5981 4.43601Z"
                              fill="#323544" />
                            <path
                              d="M5.5 3.25H15.5411L14.0411 4.75H5.5C5.08579 4.75 4.75 5.08579 4.75 5.5V18.5C4.75 18.9142 5.08579 19.25 5.5 19.25H18.5C18.9142 19.25 19.25 18.9142 19.25 18.5V9.95823L20.75 8.45823V18.5C20.75 19.7426 19.7426 20.75 18.5 20.75H5.5C4.25736 20.75 3.25 19.7426 3.25 18.5V5.5C3.25 4.25736 4.25736 3.25 5.5 3.25Z"
                              fill="#323544" />
                          </svg>
                        </button>
                        <button type="button"
                          class="inline-flex items-center gap-2 px-2.5 py-2 text-sm font-medium text-white rounded-md"
                          [ngClass]="
                                  item.status === 1
                                    ? 'bg-red-300 hover:bg-red-400'
                                    : 'bg-green-300 hover:bg-green-400'
                                " (click)="openToggleConfirm(item)" [attr.title]="
                                  item.status === 1 ? 'Inactivar' : 'Activar'
                                ">
                          @if (item.status === 1) {
                          <!-- icono inactivar (basurero / deshabilitar) -->
                          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                              d="M14.7223 12.7585C14.7426 12.3448 14.4237 11.9929 14.01 11.9726C13.5963 11.9522 13.2444 12.2711 13.2241 12.6848L12.9999 17.2415C12.9796 17.6552 13.2985 18.0071 13.7122 18.0274C14.1259 18.0478 14.4778 17.7289 14.4981 17.3152L14.7223 12.7585Z"
                              fill="#323544" />
                            <path
                              d="M9.98802 11.9726C9.5743 11.9929 9.25542 12.3448 9.27577 12.7585L9.49993 17.3152C9.52028 17.7289 9.87216 18.0478 10.2859 18.0274C10.6996 18.0071 11.0185 17.6552 10.9981 17.2415L10.774 12.6848C10.7536 12.2711 10.4017 11.9522 9.98802 11.9726Z"
                              fill="#323544" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M10.249 2C9.00638 2 7.99902 3.00736 7.99902 4.25V5H5.5C4.25736 5 3.25 6.00736 3.25 7.25C3.25 8.28958 3.95503 9.16449 4.91303 9.42267L5.54076 19.8848C5.61205 21.0729 6.59642 22 7.78672 22H16.2113C17.4016 22 18.386 21.0729 18.4573 19.8848L19.085 9.42267C20.043 9.16449 20.748 8.28958 20.748 7.25C20.748 6.00736 19.7407 5 18.498 5H15.999V4.25C15.999 3.00736 14.9917 2 13.749 2H10.249ZM14.499 5V4.25C14.499 3.83579 14.1632 3.5 13.749 3.5H10.249C9.83481 3.5 9.49902 3.83579 9.49902 4.25V5H14.499ZM5.5 6.5C5.08579 6.5 4.75 6.83579 4.75 7.25C4.75 7.66421 5.08579 8 5.5 8H18.498C18.9123 8 19.248 7.66421 19.248 7.25C19.248 6.83579 18.9123 6.5 18.498 6.5H5.5ZM6.42037 9.5H17.5777L16.96 19.7949C16.9362 20.191 16.6081 20.5 16.2113 20.5H7.78672C7.38995 20.5 7.06183 20.191 7.03807 19.7949L6.42037 9.5Z"
                              fill="#323544" />
                          </svg>
                          } @else {
                          <!-- icono activar (check) -->
                          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M20.285 6.709a1 1 0 0 1 .006 1.414l-9.2 9.3a1 1 0 0 1-1.42-.002L3.71 11.46a1 1 0 1 1 1.414-1.414l4.06 4.06 8.49-8.58a1 1 0 0 1 1.41.183Z"
                              fill="#323544" />
                          </svg>
                          }
                        </button>
                      </div>
                    </div>
                  </td>
                </tr>
                }
                }
                }
              </tbody>
            </table>
          </div>
        </div>

        <!-- Pagination Controls -->
        <div class="px-6 py-4 border-t border-gray-200 dark:border-white/[0.05]">
          <div class="flex items-center justify-between">
            <!-- Previous Button -->
            <app-button size="sm" variant="outline" (btnClick)="goToPage(currentPage - 1)"
              [disabled]="currentPage === 1">
              <svg class="fill-current" width="20" height="20" viewBox="0 0 20 20" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M2.58301 9.99868C2.58272 10.1909 2.65588 10.3833 2.80249 10.53L7.79915 15.5301C8.09194 15.8231 8.56682 15.8233 8.85981 15.5305C9.15281 15.2377 9.15297 14.7629 8.86018 14.4699L5.14009 10.7472L16.6675 10.7472C17.0817 10.7472 17.4175 10.4114 17.4175 9.99715C17.4175 9.58294 17.0817 9.24715 16.6675 9.24715L5.14554 9.24715L8.86017 5.53016C9.15297 5.23717 9.15282 4.7623 8.85983 4.4695C8.56684 4.1767 8.09197 4.17685 7.79917 4.46984L2.84167 9.43049C2.68321 9.568 2.58301 9.77087 2.58301 9.99715C2.58301 9.99766 2.58301 9.99817 2.58301 9.99868Z"
                  fill=""></path>
              </svg>
              <span class="hidden sm:inline">Anterior</span>
            </app-button>
            <!-- Page Info -->
            <span class="block text-sm font-medium text-gray-700 dark:text-gray-400 sm:hidden">
              Page {{ currentPage }} of {{ totalPages }}
            </span>
            <!-- Page Numbers -->
            <ul class="hidden items-center gap-0.5 sm:flex">
              @for (
              page of [].constructor(totalPages);
              track $index;
              let idx = $index
              ) {
              <li>
                <button (click)="goToPage(idx + 1)"
                  class="flex h-10 w-10 items-center justify-center rounded-lg text-theme-sm font-medium" [ngClass]="{
                      'bg-brand-500 text-white': currentPage === idx + 1,
                      'text-gray-700 hover:bg-brand-500/[0.08] dark:hover:bg-brand-500 dark:hover:text-white hover:text-brand-500 dark:text-gray-400':
                        currentPage !== idx + 1,
                    }">
                  {{ idx + 1 }}
                </button>
              </li>
              }
            </ul>
            <!-- Next Button -->
            <app-button (btnClick)="goToPage(currentPage + 1)" size="sm" variant="outline"
              [disabled]="currentPage === totalPages">
              <span class="hidden sm:inline">Siguiente</span>
              <svg class="fill-current" width="20" height="20" viewBox="0 0 20 20" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M17.4175 9.9986C17.4178 10.1909 17.3446 10.3832 17.198 10.53L12.2013 15.5301C11.9085 15.8231 11.4337 15.8233 11.1407 15.5305C10.8477 15.2377 10.8475 14.7629 11.1403 14.4699L14.8604 10.7472L3.33301 10.7472C2.91879 10.7472 2.58301 10.4114 2.58301 9.99715C2.58301 9.58294 2.91879 9.24715 3.33301 9.24715L14.8549 9.24715L11.1403 5.53016C10.8475 5.23717 10.8477 4.7623 11.1407 4.4695C11.4336 4.1767 11.9085 4.17685 12.2013 4.46984L17.1588 9.43049C17.3173 9.568 17.4175 9.77087 17.4175 9.99715C17.4175 9.99763 17.4175 9.99812 17.4175 9.9986Z"
                  fill=""></path>
              </svg>
            </app-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-modal [isOpen]="showForm" [className]="'max-w-3xl p-6 sm:p-8'" (close)="onCloseForm()">
  <div class="mb-5">
    <h3 class="text-lg font-semibold text-gray-800 dark:text-white/90">
      {{ isEditMode ? "Editar cliente" : "Registrar cliente" }}
    </h3>
    <p class="text-sm text-gray-500 dark:text-gray-400">
      Completa los datos del cliente y guarda los cambios.
    </p>
  </div>

  <form (ngSubmit)="onSubmitClient()">
    <div class="space-y-5">
      <div class="grid grid-cols-1 gap-5 sm:grid-cols-12">
        <!-- PERSON TYPE -->
        <div class="sm:col-span-4">
          <app-label>Tipo de persona <span class="text-error-500">*</span></app-label>
          <app-select [options]="personTypeOptions" placeholder="Seleccione tipo de persona" [(value)]="personTypeId"
            (valueChange)="onPersonTypeChange($event)"></app-select>
          @if (submittedClient && !personTypeId) {
          <p class="mt-1 text-sm text-error-500">
            El tipo de persona es obligatorio
          </p>
          }
        </div>

        <!-- DOCUMENT TYPE -->
        <div class="sm:col-span-4">
          <app-label>Tipo de documento <span class="text-error-500">*</span></app-label>
          <app-select [options]="documentTypeOptions" [(value)]="documentTypeId" placeholder="Seleccione tipo de doc."
            [loading]="loadingDocumentTypes" loadingText="Cargando..." [disabled]="disabledDocumentType"></app-select>
          @if (submittedClient && !documentTypeId) {
          <p class="mt-1 text-sm text-error-500">
            El tipo de documento es obligatorio
          </p>
          }
        </div>
        <!-- DOCUMENT NUMBER -->
        <div class="sm:col-span-4">
          <app-label>Número de documento
            <span class="text-error-500">*</span></app-label>
          <app-input-field [(value)]="documentNumber" name="documentNumber" placeholder="Ingrese número de documento" />
          @if (submittedClient && !documentNumber) {
          <p class="mt-1 text-sm text-error-500">
            El número de documento es obligatorio
          </p>
          }
        </div>
      </div>

      <!-- NATURAL PERSON -->
      @if (isNaturalPerson()) {
      <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
        <div>
          <app-label>Nombres <span class="text-error-500">*</span></app-label>
          <app-input-field [(value)]="firstName" name="firstName" placeholder="Ingrese nombres" />
          @if (submittedClient && !firstName) {
          <p class="mt-1 text-sm text-error-500">
            Los nombres son obligatorios
          </p>
          }
        </div>

        <div>
          <app-label>Apellidos <span class="text-error-500">*</span></app-label>
          <app-input-field [(value)]="lastName" name="lastName" placeholder="Ingrese apellidos" />
          @if (submittedClient && !lastName) {
          <p class="mt-1 text-sm text-error-500">
            Los apellidos son obligatorios
          </p>
          }
        </div>
      </div>
      }

      <!-- LEGAL PERSON -->
      @if (isLegalPerson()) {
      <div class="grid grid-cols-1 gap-5 sm:grid-cols-12">
        <div class="sm:col-span-8">
          <app-label>Razón social <span class="text-error-500">*</span></app-label>
          <app-input-field [(value)]="businessName" name="businessName" placeholder="Ingrese razón social" />
          @if (submittedClient && !businessName) {
          <p class="mt-1 text-sm text-error-500">
            La razón social es obligatoria
          </p>
          }
        </div>

        <div class="sm:col-span-4">
          <app-label>Contacto</app-label>
          <app-input-field [(value)]="contactPersonName" name="contactPersonName" placeholder="Nombre de contacto" />
        </div>
      </div>
      }

      <!-- CONTACT -->
      <div class="grid grid-cols-1 gap-5 sm:grid-cols-12">
        <div class="sm:col-span-4">
          <app-label>Fecha de nacimiento</app-label>
          <app-input-field [(value)]="birthDate" name="birthDate" type="date" />
        </div>
        <div class="sm:col-span-4">
          <app-label>Teléfono 1 <span class="text-error-500">*</span></app-label>
          <app-input-field [(value)]="phone1" name="phone1" placeholder="Ingrese teléfono" />
          @if (submittedClient && !phone1) {
          <p class="mt-1 text-sm text-error-500">
            El teléfono es obligatorio
          </p>
          }
        </div>

        <div class="sm:col-span-4">
          <app-label>Teléfono 2</app-label>
          <app-input-field [(value)]="phone2" name="phone2" placeholder="Opcional" />
        </div>
      </div>

      <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
        <div>
          <app-label>Correo 1 <span class="text-error-500">*</span></app-label>
          <app-input-field [(value)]="email1" name="email1" placeholder="correo@dominio.com" />
          @if (submittedClient && !email1) {
          <p class="mt-1 text-sm text-error-500">El correo es obligatorio</p>
          }
        </div>

        <div>
          <app-label>Correo 2</app-label>
          <app-input-field [(value)]="email2" name="email2" placeholder="Opcional" />
        </div>
      </div>

      <div>
        <app-label>Dirección</app-label>
        <app-input-field [(value)]="address" name="address" placeholder="Ingrese dirección" />
      </div>

      <!-- ACTIONS -->
      <div class="flex items-center justify-end gap-3 pt-2">
        <button type="button" (click)="onCloseForm()"
          class="px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800">
          Cancelar
        </button>

        <button type="submit" [disabled]="isSubmittingClient"
          class="px-4 py-2 text-sm font-medium text-white rounded-lg bg-brand-500 hover:bg-brand-600 disabled:opacity-50">
          {{
            isSubmittingClient
              ? "Guardando…"
              : isEditMode
                ? "Guardar cambios"
                : "Registrar"
          }}
        </button>
      </div>
    </div>
  </form>
</app-modal>

<app-modal [isOpen]="showConfirmToggle" [className]="'max-w-md p-6 sm:p-7'" (close)="closeToggleConfirm()">
  <div class="mb-3">
    <h3 class="text-lg font-semibold text-gray-800 dark:text-white/90">
      Confirmar acción
    </h3>
    <p class="text-sm text-gray-500 dark:text-gray-400">
      {{ toggleConfirmText }}
    </p>
  </div>

  <div class="flex items-center justify-end gap-3 pt-4">
    <button type="button" (click)="closeToggleConfirm()"
      class="px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800">
      Cancelar
    </button>

    <button type="button" (click)="confirmToggleStatus()" [disabled]="isToggleStatus"
      class="px-4 py-2 text-sm font-medium text-white rounded-lg" [ngClass]="
        toggleTarget?.status === 1
          ? 'bg-red-500 hover:bg-red-600'
          : 'bg-green-500 hover:bg-green-600'
      ">
      {{ isToggleStatus ? 'Procesando...' : toggleActionLabel }}
    </button>
  </div>
</app-modal>